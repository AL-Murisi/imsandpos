// model InvoiceItem {
//   id              String   @id @default(cuid())
//   invoiceId       String   @map("invoice_id")
//   productId       String   @map("product_id")

//   quantity        Decimal  @db.Decimal(12, 3)
//   // السعر (يسمى UnitCost في الشراء و UnitPrice في البيع)
//   price           Decimal  @db.Decimal(12, 2)
//   totalPrice      Decimal  @db.Decimal(12, 2)

//   // في المبيعات نحتاج لخصم، في المشتريات قد لا نحتاجه دائماً
//   discountAmount  Decimal? @default(0) @db.Decimal(12, 2)

//   invoice         Invoice  @relation(fields: [invoiceId], references: [id], onDelete: Cascade)
//   product         Product  @relation(fields: [productId], references: [id])

//   @@map("invoice_items")
// }model Invoice {
//   id              String   @id @default(cuid())
//   companyId       String   @map("company_id")
//   invoiceNumber   String   @map("invoice_number")

//   // التمييز بين البيع والشراء
//   type            InvoiceType @default(SALE) // SALE, PURCHASE, RETURN_SALE, RETURN_PURCHASE

//   // الأطراف (اختياري حسب نوع الفاتورة)
//   customerId      String?  @map("customer_id")
//   supplierId      String?  @map("supplier_id")

//   totalAmount     Decimal  @db.Decimal(12, 2)
//   amountPaid      Decimal  @default(0) @db.Decimal(12, 2)
//   amountDue       Decimal  @default(0) @db.Decimal(12, 2)

//   status          String   @default("completed") // pending, completed, cancelled
//   invoiceDate     DateTime @default(now()) @map("invoice_date")

//   // العلاقات
//   items           InvoiceItem[]
//   transactions    FinancialTransaction[]

//   @@unique([companyId, invoiceNumber, type])
//   @@map("invoices")
// }

// enum InvoiceType {
//   SALE
//   PURCHASE
//   RETURN_SALE
//   RETURN_PURCHASE
// }

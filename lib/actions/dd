model PartyType {
  id          String   @id @default(cuid())
  companyId   String   @map("company_id")
  name        String   // "Retail Customer", "Wholesale Customer", "Main Supplier", etc.
  entityType  EntityType // CUSTOMER or SUPPLIER
  
  // Link to the parent account (AR or AP)
  accountId   String   @map("account_id")
  account     accounts @relation("PartyTypeAccount", fields: [accountId], references: [id])
  
  // Sequencing for auto-numbering
  nextSequence Int     @default(1) @map("next_sequence")
  prefix       String? // e.g., "CUST-", "SUPP-"
  
  isActive    Boolean  @default(true)
  createdAt   DateTime @default(now()) @map("created_at")
  updatedAt   DateTime @updatedAt @map("updated_at")
  
  company     Company  @relation(fields: [companyId], references: [id], onDelete: Cascade)
  customers   Customer[]
  suppliers   Supplier[]
  
  @@unique([companyId, name, entityType])
  @@index([companyId])
  @@map("party_types")
}

enum EntityType {
  CUSTOMER
  SUPPLIER
}
  partyTypes       PartyType[]       @relation("PartyTypeAccount")

   supplierTypeId     String?   @map("supplier_type_id")
  supplierType       PartyType? @relation(fields: [supplierTypeId], references: [id])
   customerTypeId     String?   @map("customer_type_id")
  customerType       PartyType? @relation(fields: [customerTypeId], references: [id])